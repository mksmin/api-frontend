{% extends "main.html" %}
{% block title %}–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è {% endblock %}
{% block head_extra %}
<style>
  .tg-widget {
    display: flex;
    justify-content: center;
    width: 100%;
    max-width: 300px;
    margin-left: auto;
    margin-right: auto;
    padding: 14px;
    background: var(--section-bg-color);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .tg-widget iframe {
    border: none !important;
    border-radius: 8px !important;
  }

  .detail-card {
    margin-bottom: 20px;
  }
</style>
{% endblock %}

{% block extraBlocksTop %}
<div class="status-block">
  <div id="statusBlock" class="status-indicator info">
    –ü—ã—Ç–∞—é—Å—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è...
  </div>
</div>
{% endblock %}

{% block content %}
<div class="auth-wrapper">
  <div class="details-grid" style="margin: 0;">
    <div class="detail-card">
      <div class="detail-title">–ß—Ç–æ–±—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É:</div>
      <div class="detail-info">ü¶Üüçä</div>
    </div>
  </div>
  <div class="tg-widget">
    <script>
      const path = window.location.pathname;
      const hasAffirm = path.includes('/affirm');
      const script = document.createElement('script');

      script.async = true;
      script.src = 'https://telegram.org/js/telegram-widget.js?22';
      script.dataset.telegramLogin = 'mininwork_bot';
      script.dataset.size = 'large';
      script.dataset.authUrl = "/login";
      script.dataset.requestAccess = 'write';

      container.querySelector('.auth-wrapper').querySelector('.tg-widget').appendChild(script);
    </script>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script
    src="/static/scripts/login.js"
    id="authScript"
    defer></script>
{% endblock %}
