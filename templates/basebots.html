{% extends "main.html" %}
{% block title %}Авторизация{% endblock %}
{% import "partials/_macros_blocks.html" as details %}

{% block head_extra %}
<style>
  .main-container {
    max-width:min(100vw, 1000px);
    box-sizing: border-box;
    min-height: auto;
  }
  .inner-container {
    max-width: 100%;
  }
  @media (max-width: 768px) {
    main {
      align-self: flex-start;
    }
  }
</style>
{% endblock %}
{% block extraBlocksTop %}
{% set status_block_id = "statusAuth" %}
{% include "components/status_block.html"%}

{% if errors %}
{% set errors = "⚠️ Ошибка: " + errors %}
{% with status_block_id = "serverErrors", status = "error", status_text = errors %}
{% include "components/status_block.html" %}
{% endwith %}
{% endif %}

{% endblock %}

{% block content %}
{% call details.text_section() %}
{{ details.text_title(title='Авторизация', info='Telegram MiniApp') }}
{% if not errors %}
<p>Bot name:</p>
<p><span id="botConfigPath" class="sub-text">
  <a class="btn btn btn-outline-primary"
     href="https://t.me/{{ botConfigPath }}"
     target="_blank">@{{ botConfigPath }}</a>
</span></p>
<p></p>
{% endif %}
{% endcall %}
{% endblock %}

{% block scripts %}
<script
    src="/static/scripts/tgInitDataFetch.js"
    id="authScript"
    defer></script>
{% endblock %}
