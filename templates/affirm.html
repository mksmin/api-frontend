<style xmlns="http://www.w3.org/1999/html">
    .detail-info {
    /* Убираем выравнивание вправо и ставим по левому краю */
        text-align: left;
        margin-left: 0; /* Убираем авто-отступ */
        padding-left: 16px;
        color: var(--hint-color);
        width: 100%; /* Занимает всю доступную ширину */
    }
    .detail-card {
        display: flex;
        flex-direction: column;
        padding: 16px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .detail-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 16px; /* Расстояние между текстом и кнопкой */
    }

    .detail-info {
        flex: 1; /* Растягивается на доступное пространство */
        margin: 0;
        padding: 0;
        text-align: left;
    }

    .detail-button {
        flex-shrink: 0; /* Запрещает уменьшение кнопки */
    }

    .detail-title {
    /* Фиксированная ширина для всех заголовков */
        min-width: 25px;
        width: 25px;
        /* Центрирование чисел */
        text-align: center;
        /* Сохраняем гибкость */
        flex: 0 0 auto;
        /* Визуальные стили */
        font-size: 1rem;
        margin-right: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .detail-button {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-left: 5px;
    }

    .delete-btn {
        background-color: #e64d44;
        transform: scale3d(0.9, 0.9, 1);
        width: 50px;
        display: inline-block;
        font-weight: 700;
        font-size: 14px;
        line-height: 18px;
        padding: 6px 8px;
        height: 32px;
        border-radius: 7px;
        box-sizing: border-box;
        text-transform: uppercase;
        color: #fff;
        outline: none;
        border: none;
        align-items: center;
    }

    .custom-popup {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        background: #e64d44;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        animation: slideIn 0.5s ease-out, fadeOut 1s 2s forwards;
        z-index: 1000;
    }

    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeOut {
        to { opacity: 0; }
    }

    .popup-content {
        font-size: 14px;
        font-weight: 600;
        text-align: center;
    }

    .detail-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }

    .delete-btn:hover {
        background-color: #c43a2f;
        transition: background 0.2s;
    }
</style>


<div id="profileSection" class="profile-section">
    <div class="profile-header">
        <img src="{{ user.photo_url }}" id="userAvatar" class="avatar" alt="Аватар" onerror="this.style.display='none'">

        <div class="profile-info">
            <div id="userName" class="name">{{ user.first_name }} {{ user.last_name }}</div>

            {% if user.is_premium %}
            <div id="premiumBadge" class="badge">Premium</div>
            {% endif %}

            <div class="username" id="userUsername">@{{ user.username }}</div>

        </div>

    </div>
</div>

<div class="details-grid">
    <div class="title-name">
        <h4>Твои аффирмации</h4>
    </div>

    <!-- Динамический вывод аффирмаций -->
    {% if affirm %}
    {% for task in affirm %}
    <div class="detail-card" data-task-id="{{ task.id }}">
        <!-- Обертка для текста и кнопки -->
        <div class="detail-row">
            <div class="detail-info"><p style="color: white; margin-right: 8px">{{ task.number }}.</p>  {{ task.text }}</div>
            <div class="detail-button">
                <button class="delete-btn">X</button>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="detail-card">
        <div class="detail-title"
        style="min-width: 95%; width: 100%; text-align: center;">
            Нет доступных аффирмаций
        </div>
    </div>
    {% endif %}
</div>

<div id="tempPopup" class="custom-popup">
    <div class="popup-content">
        Пока я не умею удалять
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const deleteButtons = document.querySelectorAll('.delete-btn');

        deleteButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // Предотвращаем всплытие события

                const popup = document.getElementById('tempPopup');
                popup.style.display = 'block';

                // Автоматически скрываем через 3 секунды
                setTimeout(() => {
                    popup.style.animation = 'fadeOut 0.5s ease-out';
                    setTimeout(() => popup.style.display = 'none', 500);
                }, 3000);
            });
        });
    });
</script>